image boot.vfat {
    vfat {
        extraargs = "-F 32 -n BRRRRRRRRRR"
        files = {
            "rootfs.squashfs",
            "linux",
        }
        file extlinux/extlinux.conf {
            image = extlinux.conf
        }
        file initrd.gz {
            image = initrd.gz
        }
        file dtb/rk3566-rg-arc.dtb {
            image = rk3566-rg-arc.dtb
        }
        file "iwd" {
            image = iwd
        }
    }

    size = 256M
}

image overlay.ext4 {
    ext4 {
    }

    size = 1G
}

image BRRRRRRRRRR-rgarc.img {
    hdimage {
    }

    partition idbloader {
        in-partition-table = "no"
        image = "idbloader.bin"
        offset = 512
    }

    partition uboot {
        in-partition-table = "no"
        image = "uboot.bin"
        offset = 8M
    }

    partition resource {
        in-partition-table = "no"
        image = "resource.bin"
        offset = 12M
    }

    partition ANBERNIC {
        partition-type = 0xC
        bootable = "true"
        image = "boot.vfat"
        offset = 16M
    }

    partition overlay {
        partition-type = 0x83
        image = "overlay.ext4"
    }
}
